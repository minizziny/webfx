<link href="test/layoutEngine/layoutEngine.css" rel="stylesheet" media="screen">
<style>
#view-d {
	position: absolute;
	top: 30px;
	bottom: 0;
	left: 0;
	right: 0;
}

span[click-to-edit] input[type=text] {
	margin: -2px;
	padding: 2px 4px;
}

.k-d-col {
	height: 100%;
}

.dashboard-container {
	width: 100%;
	height: 100%
}

.preset-container {
	width: 100%;
	height: calc(100% - 42px);
}

.dockpanel {
	width: 100%;
	height: 100%;
}

.widget {
	height: 100%;
}

.widget figure {
	position: absolute;
	top: 0;
	bottom: 0;
	left: 0;
	right: 0;
	-webkit-margin-before: 0;
	-webkit-margin-after: 0;
	-webkit-margin-start: 0;
	-webkit-margin-end: 0;
}

.brandpreset {
	line-height: 39px;
	font-size: 20px;
	font-weight: 200;
	color: #777777;
	text-shadow: 0 1px 0 #ffffff;
	margin: auto;
	width: 400px;
	text-align: center;
	margin-top: -35px;
}
</style>
<div class="dashboard-container" ng-controller="DashboardController">
	<div ng-controller="PresetController" class="toolbar navbar navbar-top" style="margin-bottom: 0px">
		<div class="navbar-inner">
			<!--<select style="float: left; margin-top: 5px; margin-bottom: 0; margin-left: 5px" ng-model="selectedPreset" ng-options="preset.name for preset in dataPresetList"></select>
			-->
			<div class="btn-group">
				<button class="btn dropdown-toggle" data-toggle="dropdown">
					{{'$S_str_NewPreset' | translate}}
					<span class="caret"></span>
				</button>
				<ul class="dropdown-menu">
					<li><a tabindex="-1" ng-click="New()">{{'$S_str_BlankPreset' | translate}}</a></li>
					<li><a tabindex="-1" ng-click="SaveAs()">{{'$S_str_SavePresetAs' | translate}}</a></li>
				</ul>
			</div>
			<div class="btn-group">
				<button class="btn dropdown-toggle" data-toggle="dropdown">
					{{'$S_str_LoadPreset' | translate}}
					<span class="caret"></span>
				</button>
				<ul class="dropdown-menu">
					<li ng-repeat="preset in dataPresetList">
						<a tabindex="-1" ng-click="Load(preset)" style="padding-left:10px">
							<i ng-class="{ 'icon-ok': preset.guid == currentPreset.guid, 'icon-noncheck': preset.guid != currentPreset.guid }"></i>
							{{preset.name}}
						</a>
					</li>
				</ul>
			</div>
			<div class="btn-group">
				<button class="btn dropdown-toggle" data-toggle="dropdown">
					<i class="icon-wrench"></i>
					<span class="caret"></span>
				</button>
				<ul class="dropdown-menu">
					<li><a tabindex="-1" ng-click="AlertRemove()">{{'$S_str_RemoveThisPreset' | translate}}</a></li>
					<li class="divider"></li>
					<li><a tabindex="-1" ng-click="AlertClear()">{{'$S_str_RemoveAllWidgets' | translate}}</a></li>
				</ul>
			</div>
			<button class="btn btn-primary pull-right" style="margin-right: 5px" ng-click="openNewWidget()">{{'$S_str_AddWidget' | translate}}</button>
			<div class="brandpreset">{{currentPreset.name}}</div>
		</div>

		<div class="modal clearWidgets" modal>
			<a class="modal-close close" style="margin-bottom: -30px">&times;</a>
			<legend>{{'$S_str_RemoveAllWidgets' | translate}}</legend>
			<div style="margin-bottom: 20px">
				{{'$S_msg_RemoveAllWidgets' | translate}}
			</div>
			<div class="control-group submit-group">
				<button class="btn btn-danger" ng-click="Clear()">{{'$S_str_Remove' | translate}}</button>
				<button class="btn" ng-click="CancelClear()">{{'$S_str_Cancel' | translate}}</button>
			</div>
		</div>

		<div class="modal removePreset" modal>
			<a class="modal-close close" style="margin-bottom: -30px">&times;</a>
			<legend>{{'$S_str_RemovePreset' | translate}}</legend>
			<div style="margin-bottom: 20px">
				{{'$S_msg_RemovePresetConfirmPre' | translate}}<code>{{currentPreset.name}}</code>{{'$S_msg_RemovePresetConfirmPost' | translate}}
			</div>
			<div class="control-group submit-group">
				<button class="btn btn-danger" ng-click="Remove()">{{'$S_str_Remove' | translate}}</button>
				<button class="btn" ng-click="CancelRemove()">{{'$S_str_Cancel' | translate}}</button>
			</div>
		</div>
	</div>

	<div class="preset-container">
		<div class="dockpanel"></div>
	</div>
</div>